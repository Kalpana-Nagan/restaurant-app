{"version":3,"sources":["redux/restos/restoAction.js","redux/restos/restoReducer.js","redux/restos/restoFilterActionCreator.js","components/RestoDetailsCard.js","redux/restos/restoActionCreator.js","containers/RestoContainer.js","App.js","index.js"],"names":["fetchRestaurantsSuccess","restaurants","type","initialState","pending","error","getRetaurants","state","getRetaurantsPending","getRetaurantsError","getFilteredRetaurants","filteredRestaurants","filteredRestoActionCreator","hotels","filterText","dispatch","result","filter","hotel","name","address","area","toLowerCase","includes","RestaurantCard","props","map","restaurantDetails","index","className","tabIndex","key","id","src","image_url","alt","postal_code","href","phone","price","span","i","push","PriceStars","fetchRestaurants","val","fetch","then","response","json","console","log","catch","connect","city","searchText","onSubmit","e","preventDefault","value","htmlFor","role","placeholder","ref","length","onChange","RestoDetailsCard","middleware","thunk","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","action","applyMiddleware","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75173eaf.chunk.js","sourcesContent":["export const FETCH_RESTAURANTS_PENDING = \"FETCH_RESTAURANTS_PENDING\";\nexport const FETCH_RESTAURANTS_SUCCESS = \"FETCH_RESTAURANTS_SUCCESS\";\nexport const FILTERED_RESTAURANTS = \"FILTERED_RESTAURANTS\";\nexport const FETCH_RESTAURANTS_ERROR = \"FETCH_RESTAURANTS_ERROR\";\n\nexport const fetchRestaurantsPending = () => {\n  return {\n    type: FETCH_RESTAURANTS_PENDING\n  };\n};\nexport const fetchRestaurantsSuccess = restaurants => ({\n  type: FETCH_RESTAURANTS_SUCCESS,\n  restaurants: restaurants.restaurants\n});\n\nexport const filteredRestaurants = filteredRestaurants => ({\n  type: FILTERED_RESTAURANTS,\n  filteredRestaurants: filteredRestaurants\n});\n\nexport const fetcRestaurantsError = error => {\n  return {\n    type: FETCH_RESTAURANTS_ERROR,\n    error: error\n  };\n};\n","import {\n  FETCH_RESTAURANTS_PENDING,\n  FETCH_RESTAURANTS_SUCCESS,\n  FILTERED_RESTAURANTS,\n  FETCH_RESTAURANTS_ERROR\n} from \"./restoAction\";\n\nconst initialState = {\n  pending: false,\n  restaurants: [],\n  error: null\n};\n\nexport const restaurantReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_RESTAURANTS_PENDING:\n      return {\n        ...state,\n        pending: true\n      };\n    case FILTERED_RESTAURANTS:\n      console.log(action);\n      return {\n        ...state,\n        filteredRestaurants: action.filteredRestaurants\n      };\n    case FETCH_RESTAURANTS_SUCCESS:\n      console.log(action.restaurants);\n      return {\n        ...state,\n        pending: false,\n        restaurants: action.restaurants,\n        filteredRestaurants: action.restaurants\n      };\n    case FETCH_RESTAURANTS_ERROR:\n      return {\n        ...state,\n        pending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n};\n\nexport const getRetaurants = state => state.restaurants;\nexport const getRetaurantsPending = state => state.pending;\nexport const getRetaurantsError = state => state.error;\nexport const getFilteredRetaurants = state => state.filteredRestaurants;","\nimport { filteredRestaurants } from '../restos/restoAction';\n\n\nfunction filteredRestoActionCreator(hotels, filterText) {\n  return dispatch => {\n    const result = hotels.filter((hotel) => {\n      const text = (hotel.name + hotel.address + hotel.area).toLowerCase();\n      return text.includes(filterText.toLowerCase());\n    });\n    dispatch(filteredRestaurants(result))\n  }\n}\n\nexport default filteredRestoActionCreator;","import React from \"react\";\n\nfunction RestaurantCard(props) {\n  const { restaurants } = props;\n  return restaurants ? restaurants.map((restaurantDetails, index) => {\n\n    const PriceStars = (price) => {\n      let span = [];\n      for (let i = 0; i < price; i++) {\n        span.push(<icon className=\"glyphicon glyphicon-star\" />)\n      }\n      return span;\n    }\n\n    return (\n      <div className=\"row restaurants\" tabIndex={index + 4} key={restaurantDetails.id}>\n        <div className=\"col-sm-3\">\n          <img src={restaurantDetails.image_url} className=\"col-sm-12\" alt={restaurantDetails.name}></img>\n        </div>\n        <div className=\"col-sm-9\">\n          <div className=\"card-header\">\n            {restaurantDetails.name}\n          </div>\n          <p>{restaurantDetails.address}, {restaurantDetails.area}, {restaurantDetails.postal_code}</p>\n          <a href={\"tel:\" + restaurantDetails.phone}> <small className=\"glyphicon glyphicon-phone-alt\">{restaurantDetails.phone}</small></a>\n          <div className=\"stars\">{PriceStars(restaurantDetails.price)}</div>\n        </div>\n      </div>\n    )\n  }) : '';\n}\n\nexport default RestaurantCard;\n","import {\n  fetchRestaurantsPending,\n  fetchRestaurantsSuccess\n} from \"./restoAction\";\n\nfunction fetchRestaurants(val) {\n  return dispatch => {\n    dispatch(fetchRestaurantsPending());\n    val &&\n      fetch(\"https://opentable.herokuapp.com/api/restaurants?city=\" + val)\n        .then(response => response.json())\n        .then(response => {\n          if (response.error) {\n            throw response.error;\n          }\n          console.log(response);\n          dispatch(fetchRestaurantsSuccess(response));\n\n          return response;\n        })\n        .catch(error => {\n          dispatch(fetchRestaurantsSuccess(error));\n        });\n  };\n}\nexport default fetchRestaurants;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  getRetaurants,\n  getRetaurantsPending,\n  getRetaurantsError,\n  getFilteredRetaurants\n} from \"../redux/restos/restoReducer\";\nimport filteredRestoActionCreator from \"../redux/restos/restoFilterActionCreator\";\nimport RestoDetailsCard from \"../components/RestoDetailsCard\";\nimport fetchRestaurants from '../redux/restos/restoActionCreator';\n\nfunction RestoContainer(props) {\n  const { restaurants, filteredRestaurants } = props;\n  let city = {};\n  let address = {};\n  return (\n    <div className=\"container\">\n      <p><center><h2>Order from your favourite restaurant</h2></center></p>\n      <form onSubmit={(e) => { e.preventDefault(); props.fetchRestaurants(city.value) }}>\n        <div className=\"form-group row\">\n          <label htmlFor=\"city\" className=\"col-sm-1 col-sm-offset-3 col-form-label\">City</label>\n          <div className=\"col-sm-4\">\n            <input role=\"searchbox\" type=\"text\" placeholder=\"City\" className=\"form-control\"\n              ref={val => (city = val)} name=\"city\" id=\"city\"></input>\n          </div>\n          <div className=\"col-sm-4\">\n            <button type=\"submit\" className=\"btn btn-primary\" >\n              Search\n      </button>\n\n          </div>\n        </div>\n      </form>\n      {restaurants.length > 1 && <div >\n        <div className=\"row form-group\">\n          <label htmlFor=\"filter\" className=\"col-sm-1 col-sm-offset-3 col-form-label\">FilterBy</label>\n          <div className=\"col-sm-5\">\n            <input\n              role=\"searchbox\" id=\"filter\"\n              type=\"text\" name=\"filter\"\n              className=\"form-control\"\n              placeholder=\"Name,address,area\"\n              ref={val => (address = val)}\n              onChange={() => props.filteredRestoActionCreator(restaurants, address.value)}\n            ></input>\n          </div>\n\n        </div>\n        <RestoDetailsCard restaurants={filteredRestaurants || restaurants} />\n      </div>\n      }\n\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  error: getRetaurantsError(state),\n  restaurants: getRetaurants(state),\n  pending: getRetaurantsPending(state),\n  filteredRestaurants: getFilteredRetaurants(state)\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchRestaurants: city => dispatch(fetchRestaurants(city)),\n    filteredRestoActionCreator: (restaurants, searchText) => dispatch(filteredRestoActionCreator(restaurants, searchText))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RestoContainer);\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport { compose, createStore, applyMiddleware } from \"redux\";\nimport { restaurantReducer } from \"../src/redux/restos/restoReducer\";\nimport RestoContainer from \"../src/containers/RestoContainer\";\n\nconst middleware = [thunk];\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // used for redux dev tool\nconst store = createStore(\n  restaurantReducer,\n  composeEnhancers(applyMiddleware(...middleware))\n);\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <RestoContainer />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}