(this["webpackJsonprestaurant-app"]=this["webpackJsonprestaurant-app"]||[]).push([[0],{11:function(e,t,r){e.exports=r(23)},16:function(e,t,r){},23:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(3),l=r.n(c),s=(r(16),r(4)),o=r(10),u=r(1),i=r(2),m=function(e){return{type:"FETCH_RESTAURANTS_SUCCESS",restaurants:e.restaurants}},f={pending:!1,restaurants:[],error:null},E=function(e){return e.restaurants},d=function(e){return e.pending},p=function(e){return e.error},h=function(e){return e.filteredRestaurants};var N=function(e,t){return function(r){var a=e.filter((function(e){return(e.name+e.address+e.area).toLowerCase().includes(t.toLowerCase())}));r({type:"FILTERED_RESTAURANTS",filteredRestaurants:a})}};var v=function(e){var t=e.restaurants;return t?t.map((function(e,t){return n.a.createElement("div",{className:"row restaurants",tabIndex:t+4,key:e.id},n.a.createElement("div",{className:"col-sm-3"},n.a.createElement("img",{src:e.image_url,className:"col-sm-12",alt:e.name})),n.a.createElement("div",{className:"col-sm-9"},n.a.createElement("div",{className:"card-header"},e.name),n.a.createElement("p",null,e.address,", ",e.area,", ",e.postal_code),n.a.createElement("a",{href:"tel:"+e.phone}," ",n.a.createElement("small",{className:"glyphicon glyphicon-phone-alt"},e.phone)),n.a.createElement("div",{className:"stars"},function(e){for(var t=[],r=0;r<e;r++)t.push(n.a.createElement("icon",{className:"glyphicon glyphicon-star"}));return t}(e.price))))})):""};var R=function(e){return function(t){t({type:"FETCH_RESTAURANTS_PENDING"}),e&&fetch("https://opentable.herokuapp.com/api/restaurants?city="+e).then((function(e){return e.json()})).then((function(e){if(e.error)throw e.error;return console.log(e),t(m(e)),e})).catch((function(e){t(m(e))}))}};var S=Object(s.b)((function(e){return{error:p(e),restaurants:E(e),pending:d(e),filteredRestaurants:h(e)}}),(function(e){return{fetchRestaurants:function(t){return e(R(t))},filteredRestoActionCreator:function(t,r){return e(N(t,r))}}}))((function(e){var t=e.restaurants,r=e.filteredRestaurants,a={},c={};return n.a.createElement("div",{className:"container"},n.a.createElement("p",null,n.a.createElement("center",null,n.a.createElement("h2",null,"Order from your favourite restaurant"))),n.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.fetchRestaurants(a.value)}},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"city",className:"col-sm-1 col-sm-offset-3 col-form-label"},"City"),n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("input",{role:"searchbox",type:"text",placeholder:"City",className:"form-control",ref:function(e){return a=e},name:"city",id:"city"})),n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Search")))),t.length>1&&n.a.createElement("div",null,n.a.createElement("div",{className:"row form-group"},n.a.createElement("label",{htmlFor:"filter",className:"col-sm-1 col-sm-offset-3 col-form-label"},"FilterBy"),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("input",{role:"searchbox",id:"filter",type:"text",name:"filter",className:"form-control",placeholder:"Name,address,area",ref:function(e){return c=e},onChange:function(){return e.filteredRestoActionCreator(t,c.value)}}))),n.a.createElement(v,{restaurants:r||t})))})),y=[o.a],T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c,b=Object(u.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RESTAURANTS_PENDING":return Object(i.a)({},e,{pending:!0});case"FILTERED_RESTAURANTS":return console.log(t),Object(i.a)({},e,{filteredRestaurants:t.filteredRestaurants});case"FETCH_RESTAURANTS_SUCCESS":return console.log(t.restaurants),Object(i.a)({},e,{pending:!1,restaurants:t.restaurants,filteredRestaurants:t.restaurants});case"FETCH_RESTAURANTS_ERROR":return Object(i.a)({},e,{pending:!1,error:t.error});default:return e}}),T(u.a.apply(void 0,y)));var g=function(){return n.a.createElement(s.a,{store:b},n.a.createElement("div",{className:"App"},n.a.createElement(S,null)))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(g,null)),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.75173eaf.chunk.js.map